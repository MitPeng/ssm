<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" > 
<mapper namespace="com.oracle.dao.ICommodityDao">
	<resultMap type="com.oracle.model.Commodity" id="CommodityMapper">
		<id column="id" property="id"/>
		<result column="name" property="name"/>
		<result column="sale_point" property="salePoint"/>
		<result column="cid" property="cid"/>
		<result column="price" property="price"/>
		<result column="store" property="store"/>
		<result column="main_img" property="mainImg"/>
		<result column="detail" property="detail"/>
	</resultMap>
	<insert id="addCommodity" parameterType="com.oracle.model.Commodity">
		insert into t_Commodity(name,sale_point,cid,price,store,main_img,detail) values (#{name},#{salePoint},#{cid},#{price},#{store},#{mainImg},#{detail})
	</insert>
	<resultMap id="CateCommMapper" type="com.oracle.model.CateComm">
	    <id column="id" property="id"/>
	    <result property="name" column="cat_name" />
	    <result property="pid" column="pid"/>
	    <collection property="categoryList" column="id" ofType="com.oracle.model.CateComm" select="queryCategoryByPid"/>
  	</resultMap>
	<select id="queryCategoryByPid" resultMap="CateCommMapper">
    	select id,cat_name,pid from t_category where pid=#{pid}
  	</select>
</mapper>